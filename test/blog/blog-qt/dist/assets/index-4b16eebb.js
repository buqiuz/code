import{_ as S}from"./index-f680a34c.js";import{aj as V,d as N,j as c,k as z,a3 as b,ah as x,a4 as A,o as _,a as g,b as o,w as a,e,u as s,a6 as d,ao as M,F as R,A as j,aA as $,C as T,aw as G,bk as H,a5 as J,af as K,t as k,a8 as O,a9 as P,a1 as Q}from"./index-35141ee5.js";import{E as W}from"./el-avatar-948f01f8.js";import{E as X}from"./el-divider-1c12c4b1.js";import{_ as Y}from"./index-f11189a3.js";import{E as Z}from"./el-dialog-c944c34a.js";import"./el-overlay-9c23b2ca.js";import{E as ee,a as te}from"./el-form-item-742feb24.js";import"./index-23ba9dbb.js";import"./scroll-fce495f9.js";import"./vnode-a9496789.js";import"./index-53285ed5.js";import"./castArray-824eebc4.js";function oe(m){return V({url:"/link/auth/apply",method:"post",data:m})}function le(){return V({url:"/link/list",method:"get"})}const f=m=>(O("data-v-0a7544c6"),m=m(),P(),m),ae={class:"form"},se=f(()=>e("div",{style:{display:"flex","align-items":"center","margin-bottom":"1rem"}},null,-1)),ne={style:{width:"100%",display:"flex","flex-direction":"row-reverse"}},re={class:"content"},ie={class:"header"},de=f(()=>e("div",{class:"title"},"友链",-1)),me=f(()=>e("div",{class:"title_content"},[e("span",{style:{"font-size":"1rem",color:"grey"}},"欢迎访问友链板块！"),e("span",null,"友链板块是一个旨在促进不同系统间相互协作和交流的平台。通过友链板块，您可以："),e("span",null,"1、分享自己系统的介绍和链接。"),e("span",null,"2、发现更多的优秀博客网站。"),e("span",{style:{"font-size":"1rem",color:"grey"}},"注意："),e("span",null,"1、友链申请前必须先登录本网站，申请通过后会通过邮件的形式通知你。"),e("span",null,"2、点击网站的名称进行友链跳转。")],-1)),ue={class:"link"},pe={class:"content_link"},ce={class:"name"},_e=["href"],ge={class:"description"},fe=N({__name:"index",setup(m){const u=c(!1);z(()=>{w()});const v=c();function w(){le().then(i=>{i.code===200?v.value=i.data:b.error(i.msg)})}const n=x({name:"",url:"",description:"",background:"",email:"",type:"1"}),h=c(),E=x({name:[{required:!0,message:"请填写网站名称",trigger:"blur"},{min:3,max:15,message:"长度小3，最大15",trigger:"blur"}],url:[{required:!0,message:"请填写网站地址",trigger:"blur"},{min:3,max:50,message:"长度小3，最大50",trigger:"blur"}],description:[{required:!0,message:"请填写网站描述",trigger:"blur"},{min:3,max:30,message:"长度小3，最大15",trigger:"blur"}],background:[{required:!0,message:"请填写友链背景图链接",trigger:"blur"},{min:3,max:100,message:"长度小3，最大100",trigger:"blur"}],email:[{required:!0,message:"请填写电子邮件地址",trigger:"blur"},{min:3,max:20,message:"长度小3，最大15",trigger:"blur"}]});function F(){var i;(i=h.value)==null||i.validate(async l=>{if(l)await oe(n).then(r=>{r.code===200?($({title:"成功",showClose:!1,duration:6e3,message:"友链申请提交成功，待通过审核后会通过邮件通知您，请注意查收",type:"success"}),u.value=!1):b.error(r.msg)});else return!1})}return(i,l)=>{const r=T,p=ee,y=G,C=te,I=Z,U=Y,q=X,B=W,D=S,L=A("slide-in");return _(),g("div",null,[o(I,{modelValue:s(u),"onUpdate:modelValue":l[5]||(l[5]=t=>M(u)?u.value=t:null),title:"申请友链",width:"35%",style:{"border-radius":"15px"},"close-on-click-modal":!1,"lock-scroll":!1},{default:a(()=>[e("div",ae,[se,o(C,{model:s(n),ref_key:"ruleFormRef",ref:h,rules:s(E)},{default:a(()=>[o(p,{prop:"name"},{default:a(()=>[o(r,{modelValue:s(n).name,"onUpdate:modelValue":l[0]||(l[0]=t=>s(n).name=t),placeholder:"请输入网站名称",maxlength:"15","show-word-limit":""},{prepend:a(()=>[d(" 网站名称 ")]),_:1},8,["modelValue"])]),_:1}),o(p,{prop:"url"},{default:a(()=>[o(r,{modelValue:s(n).url,"onUpdate:modelValue":l[1]||(l[1]=t=>s(n).url=t),placeholder:"请输入网站地址",maxlength:"50","show-word-limit":""},{prepend:a(()=>[d(" 网站地址 ")]),_:1},8,["modelValue"])]),_:1}),o(p,{prop:"description"},{default:a(()=>[o(r,{modelValue:s(n).description,"onUpdate:modelValue":l[2]||(l[2]=t=>s(n).description=t),placeholder:"请输入网站描述",maxlength:"30","show-word-limit":""},{prepend:a(()=>[d(" 网站描述 ")]),_:1},8,["modelValue"])]),_:1}),o(p,{prop:"background"},{default:a(()=>[o(r,{modelValue:s(n).background,"onUpdate:modelValue":l[3]||(l[3]=t=>s(n).background=t),placeholder:"请提供http地址",maxlength:"100","show-word-limit":""},{prepend:a(()=>[d(" 背景图片 ")]),_:1},8,["modelValue"])]),_:1}),o(p,{prop:"email"},{default:a(()=>[o(r,{modelValue:s(n).email,"onUpdate:modelValue":l[4]||(l[4]=t=>s(n).email=t),placeholder:"填写邮箱地址",maxlength:"20","show-word-limit":""},{prepend:a(()=>[d(" 邮箱地址 ")]),_:1},8,["modelValue"])]),_:1}),e("div",ne,[o(y,{type:"primary",plain:"",onClick:F},{default:a(()=>[d("提交申请")]),_:1})])]),_:1},8,["model","rules"])])]),_:1},8,["modelValue"]),o(D,{"only-father-container":""},{banner:a(()=>[o(U,{title:"友链",subtitle:"link"})]),content:a(()=>[e("div",re,[e("div",ie,[de,o(y,{type:"primary",icon:s(H),plain:"",onClick:l[6]||(l[6]=t=>u.value=!0),style:{"margin-right":"1rem"}},{default:a(()=>[d("申请友链")]),_:1},8,["icon"])]),o(q),me,e("div",ue,[(_(!0),g(R,null,j(s(v),t=>J((_(),g("div",{key:t.id,class:"item"},[e("div",{class:"bg",style:K({background:`url(${t.background})`})},null,4),e("div",pe,[e("div",null,[o(B,{src:t.avatar},null,8,["src"]),e("div",ce,[e("a",{href:t.url},k(t.name),9,_e)])]),e("div",ge,k(t.description),1)])])),[[L]])),128))])])]),_:1})])}}});const qe=Q(fe,[["__scopeId","data-v-0a7544c6"]]);export{qe as default};
