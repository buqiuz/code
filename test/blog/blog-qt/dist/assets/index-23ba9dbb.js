import{ao as b,bp as h,y as p,c as C,b4 as w,cx as i,l as k,cZ as M,cv as g,c_ as x,cw as S,c$ as d,m as E,s as m,d as O,b as P,X as y,S as T}from"./index-35141ee5.js";import{a as z}from"./scroll-fce495f9.js";import{P as r}from"./vnode-a9496789.js";const R=(e,s={})=>{b(e)||h("[useLockscreen]","You need to pass a ref param to this function");const t=s.ns||p("popup"),n=C(()=>t.bm("parent","hidden"));if(!w||i(document.body,n.value))return;let l=0,a=!1,o="0";const c=()=>{setTimeout(()=>{S(document==null?void 0:document.body,n.value),a&&document&&(document.body.style.width=o)},200)};k(e,u=>{if(!u){c();return}a=!i(document.body,n.value),a&&(o=document.body.style.width),l=z(t.namespace.value);const f=document.documentElement.clientHeight<document.body.scrollHeight,v=M(document.body,"overflowY");l>0&&(f||v==="scroll")&&a&&(document.body.style.width=`calc(100% - ${l}px)`),g(document.body,n.value)}),x(()=>c())},B=e=>{if(!e)return{onClick:d,onMousedown:d,onMouseup:d};let s=!1,t=!1;return{onClick:o=>{s&&t&&e(o),s=t=!1},onMousedown:o=>{s=o.target===o.currentTarget},onMouseup:o=>{t=o.target===o.currentTarget}}},I=E({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:m([String,Array,Object])},zIndex:{type:m([String,Number])}}),L={click:e=>e instanceof MouseEvent},H="overlay";var N=O({name:"ElOverlay",props:I,emits:L,setup(e,{slots:s,emit:t}){const n=p(H),l=u=>{t("click",u)},{onClick:a,onMousedown:o,onMouseup:c}=B(e.customMaskEvent?void 0:l);return()=>e.mask?P("div",{class:[n.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:a,onMousedown:o,onMouseup:c},[y(s,"default")],r.STYLE|r.CLASS|r.PROPS,["onClick","onMouseup","onMousedown"]):T("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[y(s,"default")])}});const $=N;export{$ as E,B as a,R as u};
