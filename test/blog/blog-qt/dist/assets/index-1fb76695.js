import{i as b,a as D,u as I,c as S,b as W,d as $,_ as T}from"./index-78500ea7.js";import{d as j,av as A,j as r,k as P,o as p,a as R,e as t,b as i,w as q,a6 as z,u as n,t as c,a5 as d,ap as v,f as G,h as H,i as J,a3 as l,a7 as K,ay as O,a1 as Q}from"./index-35141ee5.js";import{E as U}from"./el-avatar-948f01f8.js";import{E as X}from"./el-divider-1c12c4b1.js";import{E as Y}from"./el-link-c0fa233f.js";import{g as Z}from"./index-08331dbd.js";import{M as ee}from"./index-ddedae1d.js";import"./el-scrollbar-d2c305e3.js";import"./index-0613b508.js";import"./el-tag-d18553b0.js";/* empty css                */const ae={class:"user"},ne={class:"detail"},te={class:"name"},oe={class:"time"},se={class:"content"},ie={class:"container"},le={class:"count"},ue=j({__name:"index",setup(ce){const k=A(),e=r([]),h=J(),m=r(!1),o=r(!1),s=r(!1);P(()=>{g()});function g(){Z(h.params.id).then(a=>{e.value=a.data[0],m.value=!0,C(),y()})}function C(){b(3,e.value.id).then(a=>{o.value=a.code===200})}function F(){o.value?L():w()}function w(){o.value||I(3,e.value.id).then(a=>{a.code===200?(e.value.likeCount++,o.value=!0,l.success("点赞成功")):(o.value=!1,l.warning(a.msg))})}function L(){o.value&&S(3,e.value.id).then(a=>{a.code===200?(e.value.likeCount--,o.value=!1):(o.value=!0,l.warning(a.msg))})}function y(){D(2,e.value.id).then(a=>{s.value=a.data===!0})}function x(){s.value?V():E()}function E(){s.value||W(2,e.value.id).then(a=>{a.code===200?(e.value.favoriteCount++,s.value=!0,l.success("收藏成功")):(s.value=!1,l.warning(a.msg))})}function V(){s.value&&$(2,e.value.id).then(a=>{a.code===200?(e.value.favoriteCount--,s.value=!1):(s.value=!0,l.warning(a.msg))})}return(a,_)=>{const M=Y,f=X,B=U,u=K,N=T;return p(),R("div",null,[t("div",null,[i(M,{icon:n(O),onClick:_[0]||(_[0]=re=>a.$router.push("/message"))},{default:q(()=>[z("回到留言列表")]),_:1},8,["icon"]),i(f)]),t("div",ae,[t("span",null,[i(B,{src:n(e).avatar},null,8,["src"])]),t("div",ne,[t("span",te,c(n(e).nickname),1),t("span",oe,c(n(e).createTime),1)])]),t("div",se,[i(n(ee),{modelValue:n(e).content,theme:n(k)},null,8,["modelValue","theme"])]),t("div",ie,[t("div",le,[t("div",null,[i(u,{name:"comments"}),t("span",null,c(n(e).commentCount),1)]),t("div",{onClick:F},[d(i(u,{name:"like"},null,512),[[v,!n(o)]]),d(i(u,{name:"like-selected"},null,512),[[v,n(o)]]),t("span",null,c(n(e).likeCount),1)]),t("div",{onClick:x},[d(i(u,{name:"collection"},null,512),[[v,!n(s)]]),d(i(u,{name:"collection-selected"},null,512),[[v,n(s)]]),t("span",null,c(n(e).favoriteCount),1)])])]),i(f,{"content-position":"left"}),n(m)?(p(),G(N,{key:0,type:2,"like-type":2,"author-id":n(e).userId,"type-id":n(e).id,"is-show-header":!0},null,8,["author-id","type-id"])):H("",!0)])}}});const we=Q(ue,[["__scopeId","data-v-59a5d4f7"]]);export{we as default};
